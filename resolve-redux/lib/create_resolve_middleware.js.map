{"version":3,"sources":["../src/create_resolve_middleware.js"],"names":["createResolveMiddleware","sagaMiddleware","sagaMiddlewareRun","run","bind","sagaRunInternal","sagaArgs","api","queryIdMap","Map","isClient","rootSaga","emptySaga","Object","defineProperty","get","set","value"],"mappings":";;;;;;;;;AAAA;;AAEA;;AACA;;AACA;;;;;;AAEA,IAAMA,uBAAuB,GAAG,SAA1BA,uBAA0B,GAAM;AACpC,MAAMC,cAAc,GAAG,4BAAvB;AAEA,MAAIC,iBAAiB,GAAGD,cAAc,CAACE,GAAf,CAAmBC,IAAnB,CAAwBH,cAAxB,CAAxB;;AAEA,MAAMI,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,QAAQ,EAAI;AAClC,QAAMC,GAAG,GAAG,4BAAUD,QAAV,CAAZ;AACA,QAAME,UAAU,GAAG,IAAIC,GAAJ,EAAnB;AAEAP,IAAAA,iBAAiB,CAACI,QAAQ,CAACI,QAAT,GAAoBC,qBAApB,GAA+BC,sBAAhC,oBACZN,QADY;AAEfE,MAAAA,UAAU,EAAVA,UAFe;AAGfD,MAAAA,GAAG,EAAHA;AAHe,OAAjB;AAKD,GATD;;AAWAM,EAAAA,MAAM,CAACC,cAAP,CAAsBb,cAAtB,EAAsC,KAAtC,EAA6C;AAC3Cc,IAAAA,GAAG,EAAE;AAAA,aAAMV,eAAN;AAAA,KADsC;AAE3CW,IAAAA,GAAG,EAAE,aAAAC,KAAK;AAAA,aAAKf,iBAAiB,GAAGe,KAAK,CAACb,IAAN,CAAWH,cAAX,CAAzB;AAAA;AAFiC,GAA7C;AAKA,SAAOA,cAAP;AACD,CAtBD;;eAwBeD,uB","sourcesContent":["import createSagaMiddleware from 'redux-saga'\n\nimport rootSaga from './root_saga'\nimport emptySaga from './empty_saga'\nimport createApi from './create_api'\n\nconst createResolveMiddleware = () => {\n  const sagaMiddleware = createSagaMiddleware()\n\n  let sagaMiddlewareRun = sagaMiddleware.run.bind(sagaMiddleware)\n\n  const sagaRunInternal = sagaArgs => {\n    const api = createApi(sagaArgs)\n    const queryIdMap = new Map()\n\n    sagaMiddlewareRun(sagaArgs.isClient ? rootSaga : emptySaga, {\n      ...sagaArgs,\n      queryIdMap,\n      api\n    })\n  }\n\n  Object.defineProperty(sagaMiddleware, 'run', {\n    get: () => sagaRunInternal,\n    set: value => (sagaMiddlewareRun = value.bind(sagaMiddleware))\n  })\n\n  return sagaMiddleware\n}\n\nexport default createResolveMiddleware\n"],"file":"create_resolve_middleware.js"}