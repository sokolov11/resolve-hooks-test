{"version":3,"sources":["../src/get_hash.js"],"names":["stringify","weakMap","WeakMap","getHash","value","Error","constructor","String","Number","Boolean","has","get","result","set"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,uBAAtB;AAEA,IAAMC,OAAO,GAAG,IAAIC,OAAJ,EAAhB;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAAAC,KAAK,EAAI;AACvB,MAAIA,KAAK,IAAI,IAAb,EAAmB;AACjB,UAAM,IAAIC,KAAJ,CAAU,gDAAV,CAAN;AACD;;AAED,MACED,KAAK,CAACE,WAAN,KAAsBC,MAAtB,IACAH,KAAK,CAACE,WAAN,KAAsBE,MADtB,IAEAJ,KAAK,CAACE,WAAN,KAAsBG,OAHxB,EAIE;AACA,WAAOL,KAAP;AACD;;AAED,MAAIH,OAAO,CAACS,GAAR,CAAYN,KAAZ,CAAJ,EAAwB;AACtB,WAAOH,OAAO,CAACU,GAAR,CAAYP,KAAZ,CAAP;AACD;;AAED,MAAMQ,MAAM,GAAGZ,SAAS,CAACI,KAAD,CAAxB;AACAH,EAAAA,OAAO,CAACY,GAAR,CAAYT,KAAZ,EAAmBQ,MAAnB;AACA,SAAOA,MAAP;AACD,CApBD;;AAsBA,eAAeT,OAAf","sourcesContent":["import stringify from 'json-stable-stringify'\n\nconst weakMap = new WeakMap()\n\nconst getHash = value => {\n  if (value == null) {\n    throw new Error('Can not calculate hash of null/undefined value')\n  }\n\n  if (\n    value.constructor === String ||\n    value.constructor === Number ||\n    value.constructor === Boolean\n  ) {\n    return value\n  }\n\n  if (weakMap.has(value)) {\n    return weakMap.get(value)\n  }\n\n  const result = stringify(value)\n  weakMap.set(value, result)\n  return result\n}\n\nexport default getHash\n"],"file":"get_hash.js"}