{"version":3,"sources":["../src/sync_jwt_provider_with_store.js"],"names":["jwtDecode","stableStringify","updateJwt","syncJwtProviderWithStore","jwtProvider","store","get","jwtToken","jwt","getState","err","dispatch"],"mappings":";;AAAA,OAAOA,SAAP,MAAsB,YAAtB;AACA,OAAOC,eAAP,MAA4B,uBAA5B;AACA,SAASC,SAAT,QAA0B,WAA1B;;AAEA,IAAMC,wBAAwB;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAG,iBAAOC,WAAP,EAAoBC,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAC3BD,WAD2B;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAENA,WAAW,CAACE,GAAZ,EAFM;;AAAA;AAEvBC,YAAAA,QAFuB;AAIzBC,YAAAA,GAJyB,GAInBH,KAAK,CAACI,QAAN,GAAiBD,GAJE;;AAK7B,gBAAI;AACFA,cAAAA,GAAG,GAAGR,SAAS,CAACO,QAAD,CAAf;AACD,aAFD,CAEE,OAAOG,GAAP,EAAY,CAAE;;AAEhB,gBAAIT,eAAe,CAACI,KAAK,CAACI,QAAN,GAAiBD,GAAlB,CAAf,KAA0CP,eAAe,CAACO,GAAD,CAA7D,EAAoE;AAClEH,cAAAA,KAAK,CAACM,QAAN,CAAeT,SAAS,CAACM,GAAD,CAAxB;AACD;;AAX4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAxBL,wBAAwB;AAAA;AAAA;AAAA,GAA9B;;AAeA,eAAeA,wBAAf","sourcesContent":["import jwtDecode from 'jwt-decode'\nimport stableStringify from 'json-stable-stringify'\nimport { updateJwt } from './actions'\n\nconst syncJwtProviderWithStore = async (jwtProvider, store) => {\n  if (jwtProvider) {\n    const jwtToken = await jwtProvider.get()\n\n    let jwt = store.getState().jwt\n    try {\n      jwt = jwtDecode(jwtToken)\n    } catch (err) {}\n\n    if (stableStringify(store.getState().jwt) !== stableStringify(jwt)) {\n      store.dispatch(updateJwt(jwt))\n    }\n  }\n}\n\nexport default syncJwtProviderWithStore\n"],"file":"sync_jwt_provider_with_store.js"}