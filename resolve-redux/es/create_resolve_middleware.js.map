{"version":3,"sources":["../src/create_resolve_middleware.js"],"names":["createSagaMiddleware","rootSaga","emptySaga","createApi","createResolveMiddleware","sagaMiddleware","sagaMiddlewareRun","run","bind","sagaRunInternal","sagaArgs","api","queryIdMap","Map","isClient","Object","defineProperty","get","set","value"],"mappings":";;;;;;AAAA,OAAOA,oBAAP,MAAiC,YAAjC;AAEA,OAAOC,QAAP,MAAqB,aAArB;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,OAAOC,SAAP,MAAsB,cAAtB;;AAEA,IAAMC,uBAAuB,GAAG,SAA1BA,uBAA0B,GAAM;AACpC,MAAMC,cAAc,GAAGL,oBAAoB,EAA3C;AAEA,MAAIM,iBAAiB,GAAGD,cAAc,CAACE,GAAf,CAAmBC,IAAnB,CAAwBH,cAAxB,CAAxB;;AAEA,MAAMI,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,QAAQ,EAAI;AAClC,QAAMC,GAAG,GAAGR,SAAS,CAACO,QAAD,CAArB;AACA,QAAME,UAAU,GAAG,IAAIC,GAAJ,EAAnB;AAEAP,IAAAA,iBAAiB,CAACI,QAAQ,CAACI,QAAT,GAAoBb,QAApB,GAA+BC,SAAhC,oBACZQ,QADY;AAEfE,MAAAA,UAAU,EAAVA,UAFe;AAGfD,MAAAA,GAAG,EAAHA;AAHe,OAAjB;AAKD,GATD;;AAWAI,EAAAA,MAAM,CAACC,cAAP,CAAsBX,cAAtB,EAAsC,KAAtC,EAA6C;AAC3CY,IAAAA,GAAG,EAAE;AAAA,aAAMR,eAAN;AAAA,KADsC;AAE3CS,IAAAA,GAAG,EAAE,aAAAC,KAAK;AAAA,aAAKb,iBAAiB,GAAGa,KAAK,CAACX,IAAN,CAAWH,cAAX,CAAzB;AAAA;AAFiC,GAA7C;AAKA,SAAOA,cAAP;AACD,CAtBD;;AAwBA,eAAeD,uBAAf","sourcesContent":["import createSagaMiddleware from 'redux-saga'\n\nimport rootSaga from './root_saga'\nimport emptySaga from './empty_saga'\nimport createApi from './create_api'\n\nconst createResolveMiddleware = () => {\n  const sagaMiddleware = createSagaMiddleware()\n\n  let sagaMiddlewareRun = sagaMiddleware.run.bind(sagaMiddleware)\n\n  const sagaRunInternal = sagaArgs => {\n    const api = createApi(sagaArgs)\n    const queryIdMap = new Map()\n\n    sagaMiddlewareRun(sagaArgs.isClient ? rootSaga : emptySaga, {\n      ...sagaArgs,\n      queryIdMap,\n      api\n    })\n  }\n\n  Object.defineProperty(sagaMiddleware, 'run', {\n    get: () => sagaRunInternal,\n    set: value => (sagaMiddlewareRun = value.bind(sagaMiddleware))\n  })\n\n  return sagaMiddleware\n}\n\nexport default createResolveMiddleware\n"],"file":"create_resolve_middleware.js"}